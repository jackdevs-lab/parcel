<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="express.png">
    <title>SwiftSend Nairobi | CBD Parcel Delivery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
        }
        .btn-primary {
            background-color: #2b6cb0;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #2c5282;
            transform: translateY(-2px);
        }
        .service-option {
            transition: all 0.2s ease;
        }
        .service-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .service-option.selected {
            border-color: #2b6cb0;
            background-color: #ebf4ff;
        }
        input[list]::-webkit-calendar-picker-indicator {
            display: none;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen font-sans">
    <div class="container mx-auto px-4 py-8 max-w-3xl">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">SwiftSend Nairobi</h1>
            <p class="text-gray-600">Fast, reliable parcel delivery within CBD</p>
        </header>

        <!-- Main Content -->
        <main class="bg-white rounded-lg shadow-md overflow-hidden">
            <!-- Progress Steps -->
            <div class="flex border-b">
                <div id="step1" class="flex-1 py-4 text-center font-medium text-blue-700 border-b-2 border-blue-700">
                    <span class="hidden sm:inline">1. </span>Start
                </div>
                <div id="step2" class="flex-1 py-4 text-center font-medium text-gray-500">
                    <span class="hidden sm:inline">2. </span>Details
                </div>
                <div id="step3" class="flex-1 py-4 text-center font-medium text-gray-500">
                    <span class="hidden sm:inline">3. </span>Confirm
                </div>
            </div>

            <!-- Step 1: Service Selection -->
            <div id="step1-content" class="p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Choose a service</h2>
                <p class="text-gray-600 mb-6">Select the type of delivery service you need</p>
                
                <div class="flex flex-col sm:flex-row gap-4">
                    <div onclick="selectService('send')" class="service-option flex-1 bg-blue-50 p-6 rounded-lg border border-blue-100 text-center cursor-pointer">
                        <i class="fas fa-box-open text-blue-500 text-4xl mb-4"></i>
                        <h3 class="font-medium text-lg text-gray-800 mb-2">Send a Parcel</h3>
                        <p class="text-gray-600 mb-4">We'll pick up from your location and deliver to the recipient</p>
                        <div class="btn-primary text-white px-6 py-2 rounded-lg w-full inline-block">
                            Get Started <i class="fas fa-arrow-right ml-2"></i>
                        </div>
                    </div>
                    
                    <div onclick="selectService('receive')" class="service-option flex-1 bg-green-50 p-6 rounded-lg border border-green-100 text-center cursor-pointer">
                        <i class="fas fa-truck-loading text-green-500 text-4xl mb-4"></i>
                        <h3 class="font-medium text-lg text-gray-800 mb-2">Get Me a Parcel</h3>
                        <p class="text-gray-600 mb-4">Request pickup from another location to be delivered to you</p>
                        <div class="bg-green-600 text-white px-6 py-2 rounded-lg w-full inline-block">
                            Get Started <i class="fas fa-arrow-right ml-2"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Datalist for Street Autocomplete -->
            <datalist id="cbd-streets">
                <option value="Kenyatta Avenue">
                <option value="Moi Avenue">
                <option value="Tom Mboya Street">
                <option value="Haile Selassie Avenue">
                <option value="Mama Ngina Street">
                <option value="Kimathi Street">
                <option value="Muindi Mbingu Street">
                <option value="Banda Street">
                <option value="Kaunda Street">
                <option value="Standard Street">
                <option value="Harry Thuku Road">
                <option value="Koinange Street">
                <option value="Haile Selassie Avenue">
                <option value="Uhuru Highway">
                <option value="Biashara Street">
                <option value="Harambee Avenue">
                <option value="Ronald Ngala Street">
                <option value="Luthuli Avenue">
                <option value="City Hall Way">
                <option value="Standard Street">
                <option value="Kaunda Street">
                <option value="Wabera Street">
                <option value="Taifa Road">
                <option value="Tubman Road">
                <option value="Moktar Daddah Street">
                <option value="Moktar Daddah Street">
                    
                <option value="University Way">
                <option value="Monrovia Street">
                <option value="Loita Street">
            </datalist>

            <!-- Step 2: Sender & Receiver Form (Send a Parcel) -->
            <div id="step2-send-content" class="p-6 hidden">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Parcel Details</h2>
                
                <form id="sendParcelForm">
                    <!-- Sender Info -->
                    <div class="mb-8">
                        <h3 class="text-lg font-medium text-gray-800 mb-4 border-b pb-2">Sender Information</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="senderName" class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
                                <input type="text" id="senderName" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label for="senderPhone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                                <input type="tel" id="senderPhone" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 0712345678">
                            </div>
                        </div>
                        <div class="mt-4">
                            <label for="senderStreet" class="block text-sm font-medium text-gray-700 mb-1">Street Name <span class="text-red-500">*</span></label>
                            <input 
                                type="text" 
                                id="senderStreet" 
                                list="cbd-streets" 
                                required 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., Tom Mboya Street"
                            >
                        </div>
                        <div class="mt-4">
                            <label for="senderBuilding" class="block text-sm font-medium text-gray-700 mb-1">Building Name</label>
                            <input 
                                type="text" 
                                id="senderBuilding" 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., Afya Center"
                            >
                        </div>
                        <div class="mt-4">
                            <label for="senderShop" class="block text-sm font-medium text-gray-700 mb-1">Shop/Stall Number</label>
                            <input 
                                type="text" 
                                id="senderShop" 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., Shop 12 or Stall B3"
                            >
                            <p class="text-sm text-gray-500 mt-1">Enter the exact pickup location details.</p>
                        </div>
                    </div>

                    <!-- Receiver Info -->
                    <div class="mb-8">
                        <h3 class="text-lg font-medium text-gray-800 mb-4 border-b pb-2">Receiver Information</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="receiverName" class="block text-sm font-medium text-gray-700 mb-1">Recipient Name</label>
                                <input type="text" id="receiverName" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label for="receiverPhone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                                <input type="tel" id="receiverPhone" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 0712345678">
                            </div>
                        </div>
                        <div class="mt-4">
                            <label for="receiverStreet" class="block text-sm font-medium text-gray-700 mb-1">Street Name <span class="text-red-500">*</span></label>
                            <input 
                                type="text" 
                                id="receiverStreet" 
                                list="cbd-streets" 
                                required 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., Kenyatta Avenue"
                            >
                        </div>
                        <div class="mt-4">
                            <label for="receiverBuilding" class="block text-sm font-medium text-gray-700 mb-1">Building Name</label>
                            <input 
                                type="text" 
                                id="receiverBuilding" 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., I&M Building"
                            >
                        </div>
                        <div class="mt-4">
                            <label for="receiverShop" class="block text-sm font-medium text-gray-700 mb-1">Shop/Stall Number</label>
                            <input 
                                type="text" 
                                id="receiverShop" 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., Shop 12 or Stall B3"
                            >
                        </div>
                    </div>

                    <!-- Parcel Details -->
                    <div class="mb-8">
                        <h3 class="text-lg font-medium text-gray-800 mb-4 border-b pb-2">Parcel Information</h3>
                        <div class="mb-4">
                            <label for="parcelDescription" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                            <input type="text" id="parcelDescription" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. Documents, Electronics, etc.">
                        </div>
                        <div class="mb-4">
                            <label for="parcelValue" class="block text-sm font-medium text-gray-700 mb-1">Estimated Value (KES)</label>
                            <input type="number" id="parcelValue" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 5000">
                        </div>
                        <input type="hidden" id="parcelPrice" value="100">
                    </div>

                    <div class="flex justify-between">
                        <button type="button" onclick="showStep1()" class="text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-arrow-left mr-2"></i> Back
                        </button>
                        <button type="button" onclick="validateAndProceed('send')" class="btn-primary text-white px-6 py-2 rounded-lg">
                            Continue <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Step 2: Receiver & Sender Form (Get Me a Parcel) -->
            <div id="step2-receive-content" class="p-6 hidden">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Parcel Request Details</h2>
                
                <form id="receiveParcelForm">
                    <!-- Receiver Info (initiator) -->
                    <div class="mb-8">
                        <h3 class="text-lg font-medium text-gray-800 mb-4 border-b pb-2">Your Information</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="requesterName" class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
                                <input type="text" id="requesterName" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label for="requesterPhone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                                <input type="tel" id="requesterPhone" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 0712345678">
                            </div>
                        </div>
                        <div class="mt-4">
                            <label for="requesterStreet" class="block text-sm font-medium text-gray-700 mb-1">Street Name <span class="text-red-500">*</span></label>
                            <input 
                                type="text" 
                                id="requesterStreet" 
                                list="cbd-streets" 
                                required 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., Kenyatta Avenue"
                            >
                        </div>
                        <div class="mt-4">
                            <label for="requesterBuilding" class="block text-sm font-medium text-gray-700 mb-1">Building Name</label>
                            <input 
                                type="text" 
                                id="requesterBuilding" 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., I&M Building"
                            >
                        </div>
                        <div class="mt-4">
                            <label for="requesterShop" class="block text-sm font-medium text-gray-700 mb-1">Shop/Stall Number</label>
                            <input 
                                type="text" 
                                id="requesterShop" 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., Shop 12 or Stall B3"
                            >
                            <p class="text-sm text-gray-500 mt-1">Enter your delivery location details.</p>
                        </div>
                    </div>

                    <!-- Sender Info (where parcel is coming from) -->
                    <div class="mb-8">
                        <h3 class="text-lg font-medium text-gray-800 mb-4 border-b pb-2">Pickup Information</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="pickupName" class="block text-sm font-medium text-gray-700 mb-1">Sender Name</label>
                                <input type="text" id="pickupName" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label for="pickupPhone" class="block text-sm font-medium text-gray-700 mb-1">Sender Phone</label>
                                <input type="tel" id="pickupPhone" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 0712345678">
                            </div>
                        </div>
                        <div class="mt-4">
                            <label for="pickupStreet" class="block text-sm font-medium text-gray-700 mb-1">Street Name <span class="text-red-500">*</span></label>
                            <input 
                                type="text" 
                                id="pickupStreet" 
                                list="cbd-streets" 
                                required 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., Tom Mboya Street"
                            >
                        </div>
                        <div class="mt-4">
                            <label for="pickupBuilding" class="block text-sm font-medium text-gray-700 mb-1">Building Name</label>
                            <input 
                                type="text" 
                                id="pickupBuilding" 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., Afya Center"
                            >
                        </div>
                        <div class="mt-4">
                            <label for="pickupShop" class="block text-sm font-medium text-gray-700 mb-1">Shop/Stall Number</label>
                            <input 
                                type="text" 
                                id="pickupShop" 
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                                placeholder="e.g., Shop 12 or Stall B3"
                            >
                            <p class="text-sm text-gray-500 mt-1">Enter the exact pickup location details.</p>
                        </div>
                    </div>

                    <!-- Parcel Details -->
                    <div class="mb-8">
                        <h3 class="text-lg font-medium text-gray-800 mb-4 border-b pb-2">Parcel Information</h3>
                        <div class="mb-4">
                            <label for="requestDescription" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                            <input type="text" id="requestDescription" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. Documents, Electronics, etc.">
                        </div>
                        <div class="mb-4">
                            <label for="requestValue" class="block text-sm font-medium text-gray-700 mb-1">Estimated Value (KES)</label>
                            <input type="number" id="requestValue" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g. 5000">
                        </div>
                        <input type="hidden" id="requestPrice" value="100">
                    </div>

                    <div class="flex justify-between">
                        <button type="button" onclick="showStep1()" class="text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-arrow-left mr-2"></i> Back
                        </button>
                        <button type="button" onclick="validateAndProceed('receive')" class="btn-primary text-white px-6 py-2 rounded-lg">
                            Continue <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Step 3: Confirmation Page (Send a Parcel) -->
            <div id="step3-send-content" class="p-6 hidden">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Confirm Your Order</h2>
                <p class="text-gray-600 mb-6">Please review your details before requesting pickup</p>
                
                <div class="bg-gray-50 p-4 rounded-lg mb-6">
                    <h3 class="font-medium text-lg text-gray-800 mb-3 border-b pb-2">Sender Details</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                        <div>
                            <p class="text-sm text-gray-500">Name</p>
                            <p id="confirmSenderName" class="font-medium"></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Phone</p>
                            <p id="confirmSenderPhone" class="font-medium"></p>
                        </div>
                        <div class="sm:col-span-2">
                            <p class="text-sm text-gray-500">Pickup Location</p>
                            <p id="confirmSenderAddress" class="font-medium"></p>
                        </div>
                    </div>

                    <h3 class="font-medium text-lg text-gray-800 mb-3 border-b pb-2">Receiver Details</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                        <div>
                            <p class="text-sm text-gray-500">Name</p>
                            <p id="confirmReceiverName" class="font-medium"></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Phone</p>
                            <p id="confirmReceiverPhone" class="font-medium"></p>
                        </div>
                        <div class="sm:col-span-2">
                            <p class="text-sm text-gray-500">Delivery Address</p>
                            <p id="confirmReceiverAddress" class="font-medium"></p>
                        </div>
                    </div>

                    <h3 class="font-medium text-lg text-gray-800 mb-3 border-b pb-2">Parcel Details</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <p class="text-sm text-gray-500">Description</p>
                            <p id="confirmParcelDescription" class="font-medium"></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Value</p>
                            <p id="confirmParcelValue" class="font-medium"></p>
                        </div>
                    </div>
                </div>

                <div class="bg-blue-50 p-4 rounded-lg mb-6">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="text-sm text-gray-600">Delivery Fee</p>
                            <p id="confirmParcelPrice" class="text-2xl font-bold text-blue-700">KES 100</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm text-gray-600">Estimated Delivery</p>
                            <p class="font-medium">Same Day (CBD)</p>
                        </div>
                    </div>
                </div>

                <div class="flex justify-between">
                    <button type="button" onclick="showStep2('send')" class="text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg flex items-center">
                        <i class="fas fa-arrow-left mr-2"></i> Back
                    </button>
                    <button onclick="requestPickup('send')" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center">
                        <i class="fab fa-whatsapp mr-2"></i> Request Pickup via WhatsApp
                    </button>
                </div>
            </div>

            <!-- Step 3: Confirmation Page (Get Me a Parcel) -->
            <div id="step3-receive-content" class="p-6 hidden">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Confirm Your Request</h2>
                <p class="text-gray-600 mb-6">Please review your details before requesting delivery</p>
                
                <div class="bg-gray-50 p-4 rounded-lg mb-6">
                    <h3 class="font-medium text-lg text-gray-800 mb-3 border-b pb-2">Your Details</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                        <div>
                            <p class="text-sm text-gray-500">Name</p>
                            <p id="confirmRequesterName" class="font-medium"></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Phone</p>
                            <p id="confirmRequesterPhone" class="font-medium"></p>
                        </div>
                        <div class="sm:col-span-2">
                            <p class="text-sm text-gray-500">Delivery Address</p>
                            <p id="confirmRequesterAddress" class="font-medium"></p>
                        </div>
                    </div>

                    <h3 class="font-medium text-lg text-gray-800 mb-3 border-b pb-2">Pickup Details</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                        <div>
                            <p class="text-sm text-gray-500">Sender Name</p>
                            <p id="confirmPickupName" class="font-medium"></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Sender Phone</p>
                            <p id="confirmPickupPhone" class="font-medium"></p>
                        </div>
                        <div class="sm:col-span-2">
                            <p class="text-sm text-gray-500">Pickup Location</p>
                            <p id="confirmPickupLocation" class="font-medium"></p>
                        </div>
                    </div>

                    <h3 class="font-medium text-lg text-gray-800 mb-3 border-b pb-2">Parcel Details</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <p class="text-sm text-gray-500">Description</p>
                            <p id="confirmRequestDescription" class="font-medium"></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Value</p>
                            <p id="confirmRequestValue" class="font-medium"></p>
                        </div>
                    </div>
                </div>

                <div class="bg-blue-50 p-4 rounded-lg mb-6">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="text-sm text-gray-600">Delivery Fee</p>
                            <p id="confirmRequestPrice" class="text-2xl font-bold text-blue-700">KES 100</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm text-gray-600">Estimated Delivery</p>
                            <p class="font-medium">Same Day (CBD)</p>
                        </div>
                    </div>
                </div>

                <div class="flex justify-between">
                    <button type="button" onclick="showStep2('receive')" class="text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg flex items-center">
                        <i class="fas fa-arrow-left mr-2"></i> Back
                    </button>
                    <button onclick="requestPickup('receive')" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center">
                        <i class="fab fa-whatsapp mr-2"></i> Request Delivery via WhatsApp
                    </button>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="mt-8 text-center text-gray-600 text-sm">
            <p>Â© 2025 SwiftSend Nairobi. CBD same-day delivery service.</p>
            <p class="mt-1">Contact: 0794 756 485 | info@swiftsend.co.ke</p>
        </footer>
    </div>

    <script>
        let currentService = ''; // 'send' or 'receive'

        // Navigation between steps
        function showStep1() {
            document.getElementById('step1-content').classList.remove('hidden');
            document.getElementById('step2-send-content').classList.add('hidden');
            document.getElementById('step2-receive-content').classList.add('hidden');
            document.getElementById('step3-send-content').classList.add('hidden');
            document.getElementById('step3-receive-content').classList.add('hidden');
            
            document.getElementById('step1').classList.add('text-blue-700', 'border-blue-700');
            document.getElementById('step1').classList.remove('text-gray-500');
            document.getElementById('step2').classList.add('text-gray-500');
            document.getElementById('step2').classList.remove('text-blue-700', 'border-blue-700');
            document.getElementById('step3').classList.add('text-gray-500');
            document.getElementById('step3').classList.remove('text-blue-700', 'border-blue-700');
        }

        function showStep2(service) {
            currentService = service;
            document.getElementById('step1-content').classList.add('hidden');
            
            if (service === 'send') {
                document.getElementById('step2-send-content').classList.remove('hidden');
                document.getElementById('step2-receive-content').classList.add('hidden');
            } else if (service === 'receive') {
                document.getElementById('step2-send-content').classList.add('hidden');
                document.getElementById('step2-receive-content').classList.remove('hidden');
            }
            
            document.getElementById('step3-send-content').classList.add('hidden');
            document.getElementById('step3-receive-content').classList.add('hidden');
            
            document.getElementById('step1').classList.remove('text-blue-700', 'border-blue-700');
            document.getElementById('step1').classList.add('text-gray-500');
            document.getElementById('step2').classList.add('text-blue-700', 'border-blue-700');
            document.getElementById('step2').classList.remove('text-gray-500');
            document.getElementById('step3').classList.add('text-gray-500');
            document.getElementById('step3').classList.remove('text-blue-700', 'border-blue-700');
        }

        function showStep3(service) {
            document.getElementById('step1-content').classList.add('hidden');
            document.getElementById('step2-send-content').classList.add('hidden');
            document.getElementById('step2-receive-content').classList.add('hidden');
            
            if (service === 'send') {
                document.getElementById('step3-send-content').classList.remove('hidden');
                document.getElementById('step3-receive-content').classList.add('hidden');
                
                // Populate confirmation fields for send service
                document.getElementById('confirmSenderName').textContent = document.getElementById('senderName').value;
                document.getElementById('confirmSenderPhone').textContent = document.getElementById('senderPhone').value;
                const senderAddress = [
                    document.getElementById('senderStreet').value,
                    document.getElementById('senderBuilding').value,
                    document.getElementById('senderShop').value
                ].filter(Boolean).join(', ');
                document.getElementById('confirmSenderAddress').textContent = senderAddress || 'Not specified';
                document.getElementById('confirmReceiverName').textContent = document.getElementById('receiverName').value;
                document.getElementById('confirmReceiverPhone').textContent = document.getElementById('receiverPhone').value;
                const receiverAddress = [
                    document.getElementById('receiverStreet').value,
                    document.getElementById('receiverBuilding').value,
                    document.getElementById('receiverShop').value
                ].filter(Boolean).join(', ');
                document.getElementById('confirmReceiverAddress').textContent = receiverAddress || 'Not specified';
                document.getElementById('confirmParcelDescription').textContent = document.getElementById('parcelDescription').value || 'Not specified';
                document.getElementById('confirmParcelValue').textContent = document.getElementById('parcelValue').value ? 'KES ' + document.getElementById('parcelValue').value : 'Not specified';
            } else if (service === 'receive') {
                document.getElementById('step3-send-content').classList.add('hidden');
                document.getElementById('step3-receive-content').classList.remove('hidden');
                
                // Populate confirmation fields for receive service
                document.getElementById('confirmRequesterName').textContent = document.getElementById('requesterName').value;
                document.getElementById('confirmRequesterPhone').textContent = document.getElementById('requesterPhone').value;
                const requesterAddress = [
                    document.getElementById('requesterStreet').value,
                    document.getElementById('requesterBuilding').value,
                    document.getElementById('requesterShop').value
                ].filter(Boolean).join(', ');
                document.getElementById('confirmRequesterAddress').textContent = requesterAddress || 'Not specified';
                document.getElementById('confirmPickupName').textContent = document.getElementById('pickupName').value;
                document.getElementById('confirmPickupPhone').textContent = document.getElementById('pickupPhone').value;
                const pickupAddress = [
                    document.getElementById('pickupStreet').value,
                    document.getElementById('pickupBuilding').value,
                    document.getElementById('pickupShop').value
                ].filter(Boolean).join(', ');
                document.getElementById('confirmPickupLocation').textContent = pickupAddress || 'Not specified';
                document.getElementById('confirmRequestDescription').textContent = document.getElementById('requestDescription').value || 'Not specified';
                document.getElementById('confirmRequestValue').textContent = document.getElementById('requestValue').value ? 'KES ' + document.getElementById('requestValue').value : 'Not specified';
            }
            
            document.getElementById('step1').classList.remove('text-blue-700', 'border-blue-700');
            document.getElementById('step1').classList.add('text-gray-500');
            document.getElementById('step2').classList.remove('text-blue-700', 'border-blue-700');
            document.getElementById('step2').classList.add('text-gray-500');
            document.getElementById('step3').classList.add('text-blue-700', 'border-blue-700');
            document.getElementById('step3').classList.remove('text-gray-500');
        }

        // Service selection
        function selectService(service) {
            currentService = service;
            showStep2(service);
        }

        // Form validation
        function validateAndProceed(service) {
            let isValid = true;
            
            if (service === 'send') {
                // Check required fields for send service
                const requiredFields = [
                    'senderName', 'senderPhone', 'senderStreet',
                    'receiverName', 'receiverPhone', 'receiverStreet'
                ];
                
                requiredFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    if (!field.value.trim()) {
                        isValid = false;
                        field.classList.add('border-red-500');
                        field.addEventListener('input', function() {
                            this.classList.remove('border-red-500');
                        }, { once: true });
                    }
                });
            } else if (service === 'receive') {
                // Check required fields for receive service
                const requiredFields = [
                    'requesterName', 'requesterPhone', 'requesterStreet',
                    'pickupName', 'pickupPhone', 'pickupStreet'
                ];
                
                requiredFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    if (!field.value.trim()) {
                        isValid = false;
                        field.classList.add('border-red-500');
                        field.addEventListener('input', function() {
                            this.classList.remove('border-red-500');
                        }, { once: true });
                    }
                });
            }
            
            if (isValid) {
                showStep3(service);
            } else {
                alert('Please fill in all required fields.');
            }
        }

        // WhatsApp integration
        function requestPickup(service) {
            let message = '';
            
            if (service === 'send') {
                const senderName = encodeURIComponent(document.getElementById('senderName').value);
                const senderPhone = encodeURIComponent(document.getElementById('senderPhone').value);
                const senderAddress = encodeURIComponent([
                    document.getElementById('senderStreet').value,
                    document.getElementById('senderBuilding').value,
                    document.getElementById('senderShop').value
                ].filter(Boolean).join(', '));
                const receiverName = encodeURIComponent(document.getElementById('receiverName').value);
                const receiverPhone = encodeURIComponent(document.getElementById('receiverPhone').value);
                const receiverAddress = encodeURIComponent([
                    document.getElementById('receiverStreet').value,
                    document.getElementById('receiverBuilding').value,
                    document.getElementById('receiverShop').value
                ].filter(Boolean).join(', '));
                const parcelDescription = encodeURIComponent(document.getElementById('parcelDescription').value || 'Not specified');
                const parcelValue = encodeURIComponent(document.getElementById('parcelValue').value || 'Not specified');
                
                message = `New Parcel Delivery Request:%0A%0A*Sender Details:*%0AName: ${senderName}%0APhone: ${senderPhone}%0APickup: ${senderAddress}%0A%0A*Receiver Details:*%0AName: ${receiverName}%0APhone: ${receiverPhone}%0ADelivery: ${receiverAddress}%0A%0A*Parcel Details:*%0ADescription: ${parcelDescription}%0AValue: KES ${parcelValue}%0A%0A*Delivery Fee:* KES 100%0A%0APlease confirm pickup time.`;
            } else if (service === 'receive') {
                const requesterName = encodeURIComponent(document.getElementById('requesterName').value);
                const requesterPhone = encodeURIComponent(document.getElementById('requesterPhone').value);
                const requesterAddress = encodeURIComponent([
                    document.getElementById('requesterStreet').value,
                    document.getElementById('requesterBuilding').value,
                    document.getElementById('requesterShop').value
                ].filter(Boolean).join(', '));
                const pickupName = encodeURIComponent(document.getElementById('pickupName').value);
                const pickupPhone = encodeURIComponent(document.getElementById('pickupPhone').value);
                const pickupAddress = encodeURIComponent([
                    document.getElementById('pickupStreet').value,
                    document.getElementById('pickupBuilding').value,
                    document.getElementById('pickupShop').value
                ].filter(Boolean).join(', '));
                const requestDescription = encodeURIComponent(document.getElementById('requestDescription').value || 'Not specified');
                const requestValue = encodeURIComponent(document.getElementById('requestValue').value || 'Not specified');
                
                message = `New Parcel Pickup Request:%0A%0A*Recipient Details:*%0AName: ${requesterName}%0APhone: ${requesterPhone}%0ADelivery Address: ${requesterAddress}%0A%0A*Pickup Details:*%0ASender Name: ${pickupName}%0ASender Phone: ${pickupPhone}%0APickup Location: ${pickupAddress}%0A%0A*Parcel Details:*%0ADescription: ${requestDescription}%0AValue: KES ${requestValue}%0A%0A*Delivery Fee:* KES 100%0A%0APlease confirm pickup arrangement.`;
            }
            
            // Your business WhatsApp number
            const whatsappNumber = "254797661210";
            
            window.open(`https://wa.me/${whatsappNumber}?text=${message}`, '_blank');
        }
    </script>
</body>
</html>